# 三角套利交易系统

一个基于Web的三角套利交易系统，支持实时检测套利机会并执行一键交易功能。

## 功能特性

### 🎯 核心功能
- **实时套利检测**: 自动识别三角套利机会
- **一键交易**: 快速执行三角套利交易
- **多交易所支持**: 支持欧易(OKX)等主流交易所
- **收益计算**: 精确计算套利收益和风险

### 🔧 工具功能
- **API接口检测**: 全面检测交易所API接口状态
- **交易历史管理**: 记录和查看所有交易历史
- **实时监控**: 实时显示交易状态和进度
- **风险控制**: 内置风险控制机制

## 系统架构

```
三角套利/
├── index.html              # 主页面 - 套利机会检测
├── api_test.html           # API检测页面
├── trade_history.html      # 交易历史页面
├── script.js               # 主要业务逻辑
├── api.js                  # API数据获取
├── coingecko_fetcher.js    # 币价数据获取
├── api_test.js             # API检测逻辑
├── quick_trade.js          # 一键交易功能
├── trade_history.js        # 交易历史管理
├── tools.js                # 工具函数
├── staticData.js           # 静态数据配置
└── styles.css              # 样式文件
```

## 快速开始

### 1. 环境要求
- 现代浏览器 (Chrome, Firefox, Safari, Edge)
- 欧易(OKX)交易所账户和API密钥

### 2. 安装配置
1. 下载所有文件到本地目录
2. 使用本地服务器运行 (推荐使用 Live Server)
3. 打开 `index.html` 开始使用

### 3. API配置
1. 点击"API检测"按钮
2. 输入您的欧易API密钥信息：
   - API Key
   - Secret Key  
   - Passphrase
3. 选择测试环境（模拟/实盘）
4. 点击"批量测试所有接口"验证配置

## 使用指南

### 主页面功能
1. **选择交易所**: 在左侧面板选择要监控的交易所
2. **设置筛选条件**: 
   - 最小收益率: 设置最低收益阈值
   - 24小时成交量: 设置成交量筛选条件
3. **查看套利机会**: 右侧面板显示检测到的套利机会
4. **一键交易**: 点击"一键交易"按钮执行套利

### API检测页面
- **账户接口**: 测试账户余额、持仓、交易历史
- **市场数据**: 测试行情、订单簿、K线数据
- **交易接口**: 测试下单、撤单、订单状态
- **套利专用**: 测试套利机会检测和快速交易
- **风控接口**: 测试风险限制和交易限制
- **系统状态**: 测试服务器时间和API状态

### 交易历史页面
- **统计信息**: 查看总交易次数、成功率、平均收益
- **筛选功能**: 按状态、收益、日期筛选记录
- **详细记录**: 查看每笔交易的详细信息
- **数据导出**: 支持导出交易历史数据

## 安全注意事项

### ⚠️ 重要提醒
1. **API密钥安全**: 
   - 请妥善保管您的API密钥
   - 建议使用只读权限的API密钥进行测试
   - 不要在不安全的网络环境下输入密钥

2. **风险控制**:
   - 系统内置风险控制机制
   - 建议先在模拟环境中测试
   - 设置合理的交易金额限制

3. **网络环境**:
   - 确保网络连接稳定
   - 避免在公共WiFi环境下使用
   - 定期检查API接口状态

## 技术特性

### 前端技术
- **HTML5 + CSS3**: 现代化响应式界面
- **JavaScript ES6+**: 模块化开发
- **Tailwind CSS**: 快速样式开发
- **Font Awesome**: 图标库

### 核心算法
- **三角套利检测**: 基于价格差异的套利机会识别
- **路径优化**: 自动选择最优交易路径
- **风险计算**: 实时计算交易风险和收益

### 数据管理
- **本地存储**: 使用localStorage保存配置和历史
- **实时更新**: 支持实时数据刷新
- **缓存机制**: 优化API调用频率

## 故障排除

### 常见问题

1. **API连接失败**
   - 检查网络连接
   - 验证API密钥是否正确
   - 确认API权限设置

2. **套利机会检测不到**
   - 检查最小收益率设置
   - 确认交易所数据是否正常
   - 尝试刷新数据

3. **一键交易失败**
   - 检查账户余额是否充足
   - 确认交易对是否可交易
   - 查看交易状态日志

### 技术支持
如遇到问题，请检查：
1. 浏览器控制台错误信息
2. 网络连接状态
3. API接口响应状态
4. 交易日志详细信息

## 更新日志

### v1.0.0 (2024-01-01)
- 初始版本发布
- 支持三角套利检测
- 实现一键交易功能
- 添加API接口检测
- 集成交易历史管理

## 免责声明

本系统仅供学习和研究使用，不构成投资建议。使用本系统进行实际交易的风险由用户自行承担。请在使用前充分了解相关风险，并根据自身情况谨慎决策。

## 许可证

MIT License - 详见 LICENSE 文件
