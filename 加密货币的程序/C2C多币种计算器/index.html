<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>加密货币收益计算器</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #f4f9f9;
            color: #333;
            animation: fadeIn 1s ease-in-out;
            font-weight: 700;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            animation: slideUp 1s ease-in-out;
            position: relative;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-align: center;
            color: #008CBA;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .principal-section {
            margin-bottom: 1rem;
            text-align: center;
        }

        .principal-section label {
            font-size: 1.25rem;
        }

        .table-container {
            display: flex;
            flex-direction: column;
            overflow-x: auto;
        }

        .table-header {
            display: flex;
            background-color: #e0f7fa;
            color: #008CBA;
            font-weight: 600;
            font-size: 1rem;
            border-radius: 15px 15px 0 0;
        }

        .table-header-item {
            padding: 1rem;
            flex: 1;
            text-align: center;
        }

        .table-row {
            display: flex;
            transition: background-color 0.3s ease;
            border-bottom: 2px solid #e0f7fa;
        }

        .table-row:nth-child(even) {
            background-color: rgba(241, 248, 233, 0.5);
        }

        .table-row:hover {
            filter: brightness(0.9);
        }

        .table-cell {
            padding: 1rem;
            flex: 1;
            text-align: center;
            font-size: 0.9rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        input[type="number"] {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #b2ebf2;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease, transform 0.3s ease;
            background-color: #fff;
            color: #333;
            box-sizing: border-box;
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
        }

        input[type="number"]:focus {
            border-color: #008CBA;
            outline: none;
            transform: scale(1.05);
        }

        button {
            display: block;
            width: 100%;
            padding: 1rem;
            background-color: #008CBA;
            color: #fff;
            border: none;
            border-radius: 15px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
            margin-top: 1rem;
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
        }

        button:hover {
            background-color: #006080;
            transform: scale(1.02);
        }

        .info {
            font-size: 0.8rem;
            color: #757575;
            margin-top: 0.5rem;
            min-height: 1.2em;
            animation: fadeInInfo 0.5s ease-in-out;
        }

        @keyframes fadeInInfo {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .api-price {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .api-price input {
            width: 100%;
            margin-bottom: 0.5rem;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .table-header,
            .table-row {
                flex-wrap: wrap;
            }

            .table-header-item,
            .table-cell {
                flex-basis: 50%;
            }
        }

        @media (max-width: 480px) {
            .table-header-item,
            .table-cell {
                flex-basis: 100%;
            }
        }

        .loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
            z-index: 10;
            animation: fadeIn 0.3s ease-in-out;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #008CBA;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* 新增样式，增强币种提示的可读性 */
       .api-price span {
            font-size: 1.1rem;
            font-weight: bold;
            color: #008CBA;
            margin-top: 0.3rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

        /* 为每个币种设置不同颜色 */
        .usdt-row {
            background-color: #c2f0c2;
        }
        .btc-row {
            background-color: #ffdab9;
        }
        .eth-row {
            background-color: #b3d9ff;
        }
        .bnb-row {
            background-color: #a6e1fa;
        }
        .sol-row {
            background-color: #ffffb3;
        }
        .doge-row {
            background-color: #d1e0e0;
        }
        .trx-row {
            background-color: #ffcccc;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
        </div>
        <h1>加密货币收益计算器</h1>
        <div class="principal-section flex flex-col items-center">
            <label for="principal" class="block text-sm font-medium text-gray-700 mb-1">本金 (¥):</label>
            <input type="number" id="principal" value="10000" required
                class="mt-1 block w-70% px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div class="table-container">
            <div class="table-header">
                <div class="table-header-item">币种 ($)</div>
                <div class="table-header-item">购买价格 (¥)</div>
                <div class="table-header-item">卖出价格 (¥)</div>
                <div class="table-header-item">计算收益 (¥)</div>
            </div>
            <div class="table-row usdt-row">
                <div class="table-cell">
                    <div class="api-price">
                        <input type="number" id="usdt-api-price">
                        <span>USDT</span>
                    </div>
                </div>
                <div class="table-cell">
                    <input type="number" id="usdt-buy" required>
                    <div class="info" id="usdt-buy-info">数量: -，购买汇率: -</div>
                </div>
                <div class="table-cell">
                    <input type="number" id="usdt-sell" required>
                    <div class="info" id="usdt-sell-info">卖出汇率: -</div>
                </div>
                <div class="table-cell">
                    <p id="usdt-profit">-</p>
                </div>
            </div>
            <div class="table-row btc-row">
                <div class="table-cell">
                    <div class="api-price">
                        <input type="number" id="btc-api-price">
                        <span>BTC</span>
                    </div>
                </div>
                <div class="table-cell">
                    <input type="number" id="btc-buy" required>
                    <div class="info" id="btc-buy-info">数量: -，购买汇率: -</div>
                </div>
                <div class="table-cell">
                    <input type="number" id="btc-sell" required>
                    <div class="info" id="btc-sell-info">卖出汇率: -</div>
                </div>
                <div class="table-cell">
                    <p id="btc-profit">-</p>
                </div>
            </div>
            <div class="table-row eth-row">
                <div class="table-cell">
                    <div class="api-price">
                        <input type="number" id="eth-api-price">
                        <span>ETH</span>
                    </div>
                </div>
                <div class="table-cell">
                    <input type="number" id="eth-buy" required>
                    <div class="info" id="eth-buy-info">数量: -，购买汇率: -</div>
                </div>
                <div class="table-cell">
                    <input type="number" id="eth-sell" required>
                    <div class="info" id="eth-sell-info">卖出汇率: -</div>
                </div>
                <div class="table-cell">
                    <p id="eth-profit">-</p>
                </div>
            </div>
            <div class="table-row bnb-row">
                <div class="table-cell">
                    <div class="api-price">
                        <input type="number" id="bnb-api-price">
                        <span>BNB</span>
                    </div>
                </div>
                <div class="table-cell">
                    <input type="number" id="bnb-buy" required>
                    <div class="info" id="bnb-buy-info">数量: -，购买汇率: -</div>
                </div>
                <div class="table-cell">
                    <input type="number" id="bnb-sell" required>
                    <div class="info" id="bnb-sell-info">卖出汇率: -</div>
                </div>
                <div class="table-cell">
                    <p id="bnb-profit">-</p>
                </div>
            </div>
            <div class="table-row sol-row">
                <div class="table-cell">
                    <div class="api-price">
                        <input type="number" id="sol-api-price">
                        <span>SOL</span>
                    </div>
                </div>
                <div class="table-cell">
                    <input type="number" id="sol-buy" required>
                    <div class="info" id="sol-buy-info">数量: -，购买汇率: -</div>
                </div>
                <div class="table-cell">
                    <input type="number" id="sol-sell" required>
                    <div class="info" id="sol-sell-info">卖出汇率: -</div>
                </div>
                <div class="table-cell">
                    <p id="sol-profit">-</p>
                </div>
            </div>
            <div class="table-row doge-row">
                <div class="table-cell">
                    <div class="api-price">
                        <input type="number" id="doge-api-price">
                        <span>DOGE</span>
                    </div>
                </div>
                <div class="table-cell">
                    <input type="number" id="doge-buy" required>
                    <div class="info" id="doge-buy-info">数量: -，购买汇率: -</div>
                </div>
                <div class="table-cell">
                    <input type="number" id="doge-sell" required>
                    <div class="info" id="doge-sell-info">卖出汇率: -</div>
                </div>
                <div class="table-cell">
                    <p id="doge-profit">-</p>
                </div>
            </div>
            <div class="table-row trx-row">
                <div class="table-cell">
                    <div class="api-price">
                        <input type="number" id="trx-api-price">
                        <span>TRX</span>
                    </div>
                </div>
                <div class="table-cell">
                    <input type="number" id="trx-buy" required>
                    <div class="info" id="trx-buy-info">数量: -，购买汇率: -</div>
                </div>
                <div class="table-cell">
                    <input type="number" id="trx-sell" required>
                    <div class="info" id="trx-sell-info">卖出汇率: -</div>
                </div>
                <div class="table-cell">
                    <p id="trx-profit">-</p>
                </div>
            </div>
        </div>
        <button onclick="calculateProfit()">计算收益</button>
    </div>
    <script>
        const currencySymbols = {
            usdt: 'USDT',
            btc: 'BTC',
            bnb: 'BNB',
            eth: 'ETH',
            sol: 'SOL',
            doge: 'DOGE',
            trx: 'TRX'
        };
        let currentPrices = {};

        const loading = document.getElementById('loading');

        async function fetchPrices() {
            const symbols = Object.values(currencySymbols).join(',');
            try {
                loading.style.display = 'flex';
                const response = await fetch(`https://min-api.cryptocompare.com/data/pricemulti?fsyms=${symbols}&tsyms=USD`);
                if (!response.ok) {
                    throw new Error('网络响应异常');
                }
                const data = await response.json();
                for (const [currency, symbol] of Object.entries(currencySymbols)) {
                    const price = data[symbol].USD;
                    currentPrices[currency] = price;
                    const inputElement = document.getElementById(`${currency}-api-price`);
                    if (inputElement) {
                        if (currency === 'doge' || currency === 'trx') {
                            inputElement.value = price.toFixed(5);
                        } else {
                            inputElement.value = price.toFixed(2);
                        }
                    }
                    const buyInputElement = document.getElementById(`${currency}-buy`);
                    if (buyInputElement) {
                        buyInputElement.value = '';
                    }
                }
            } catch (error) {
                console.error('获取价格时出错:', error);
            } finally {
                loading.style.display = 'none';
            }
        }

        function calculateProfit() {
            const principal = parseFloat(document.getElementById('principal').value);
            const usdtBuy = parseFloat(document.getElementById('usdt-buy').value);
            const btcBuy = parseFloat(document.getElementById('btc-buy').value);
            const bnbBuy = parseFloat(document.getElementById('bnb-buy').value);
            const ethBuy = parseFloat(document.getElementById('eth-buy').value);
            const solBuy = parseFloat(document.getElementById('sol-buy').value);
            const dogeBuy = parseFloat(document.getElementById('doge-buy').value);
            const trxBuy = parseFloat(document.getElementById('trx-buy').value);

            const usdtSell = parseFloat(document.getElementById('usdt-sell').value);
            const btcSell = parseFloat(document.getElementById('btc-sell').value);
            const bnbSell = parseFloat(document.getElementById('bnb-sell').value);
            const ethSell = parseFloat(document.getElementById('eth-sell').value);
            const solSell = parseFloat(document.getElementById('sol-sell').value);
            const dogeSell = parseFloat(document.getElementById('doge-sell').value);
            const trxSell = parseFloat(document.getElementById('trx-sell').value);

            const usdtAmount = principal / usdtBuy;
            const btcAmount = principal / btcBuy;
            const bnbAmount = principal / bnbBuy;
            const ethAmount = principal / ethBuy;
            const solAmount = principal / solBuy;
            const dogeAmount = principal / dogeBuy;
            const trxAmount = principal / trxBuy;

            const usdtProfit = usdtAmount * usdtSell - principal;
            const btcProfit = btcAmount * btcSell - principal;
            const bnbProfit = bnbAmount * bnbSell - principal;
            const ethProfit = ethAmount * ethSell - principal;
            const solProfit = solAmount * solSell - principal;
            const dogeProfit = dogeAmount * dogeSell - principal;
            const trxProfit = trxAmount * trxSell - principal;

            const usdtApiPrice = parseFloat(document.getElementById('usdt-api-price').value) || currentPrices.usdt;
            const btcApiPrice = parseFloat(document.getElementById('btc-api-price').value) || currentPrices.btc;
            const bnbApiPrice = parseFloat(document.getElementById('bnb-api-price').value) || currentPrices.bnb;
            const ethApiPrice = parseFloat(document.getElementById('eth-api-price').value) || currentPrices.eth;
            const solApiPrice = parseFloat(document.getElementById('sol-api-price').value) || currentPrices.sol;
            const dogeApiPrice = parseFloat(document.getElementById('doge-api-price').value) || currentPrices.doge;
            const trxApiPrice = parseFloat(document.getElementById('trx-api-price').value) || currentPrices.trx;

            const usdtBuyRate = usdtBuy / usdtApiPrice;
            const btcBuyRate = btcBuy / btcApiPrice;
            const bnbBuyRate = bnbBuy / bnbApiPrice;
            const ethBuyRate = ethBuy / ethApiPrice;
            const solBuyRate = solBuy / solApiPrice;
            const dogeBuyRate = dogeBuy / dogeApiPrice;
            const trxBuyRate = trxBuy / trxApiPrice;

            const usdtSellRate = usdtSell / usdtApiPrice;
            const btcSellRate = btcSell / btcApiPrice;
            const bnbSellRate = bnbSell / bnbApiPrice;
            const ethSellRate = ethSell / ethApiPrice;
            const solSellRate = solSell / solApiPrice;
            const dogeSellRate = dogeSell / dogeApiPrice;
            const trxSellRate = trxSell / trxApiPrice;

            const formatValue = (value) => isNaN(value) ? '-' : value.toFixed(2);

            document.getElementById('usdt-buy-info').innerHTML = `数量: ${formatValue(usdtAmount)}，购买汇率: ${formatValue(usdtBuyRate)}`;
            document.getElementById('btc-buy-info').innerHTML = `数量: ${formatValue(btcAmount)}，购买汇率: ${formatValue(btcBuyRate)}`;
            document.getElementById('bnb-buy-info').innerHTML = `数量: ${formatValue(bnbAmount)}，购买汇率: ${formatValue(bnbBuyRate)}`;
            document.getElementById('eth-buy-info').innerHTML = `数量: ${formatValue(ethAmount)}，购买汇率: ${formatValue(ethBuyRate)}`;
            document.getElementById('sol-buy-info').innerHTML = `数量: ${formatValue(solAmount)}，购买汇率: ${formatValue(solBuyRate)}`;
            document.getElementById('doge-buy-info').innerHTML = `数量: ${formatValue(dogeAmount)}，购买汇率: ${formatValue(dogeBuyRate)}`;
            document.getElementById('trx-buy-info').innerHTML = `数量: ${formatValue(trxAmount)}，购买汇率: ${formatValue(trxBuyRate)}`;

            document.getElementById('usdt-sell-info').innerHTML = `卖出汇率: ${formatValue(usdtSellRate)}`;
            document.getElementById('btc-sell-info').innerHTML = `卖出汇率: ${formatValue(btcSellRate)}`;
            document.getElementById('bnb-sell-info').innerHTML = `卖出汇率: ${formatValue(bnbSellRate)}`;
            document.getElementById('eth-sell-info').innerHTML = `卖出汇率: ${formatValue(ethSellRate)}`;
            document.getElementById('sol-sell-info').innerHTML = `卖出汇率: ${formatValue(solSellRate)}`;
            document.getElementById('doge-sell-info').innerHTML = `卖出汇率: ${formatValue(dogeSellRate)}`;
            document.getElementById('trx-sell-info').innerHTML = `卖出汇率: ${formatValue(trxSellRate)}`;

            document.getElementById('usdt-profit').innerHTML = formatValue(usdtProfit);
            document.getElementById('btc-profit').innerHTML = formatValue(btcProfit);
            document.getElementById('bnb-profit').innerHTML = formatValue(bnbProfit);
            document.getElementById('eth-profit').innerHTML = formatValue(ethProfit);
            document.getElementById('sol-profit').innerHTML = formatValue(solProfit);
            document.getElementById('doge-profit').innerHTML = formatValue(dogeProfit);
            document.getElementById('trx-profit').innerHTML = formatValue(trxProfit);
        }

        fetchPrices();
    </script>
</body>

</html>    