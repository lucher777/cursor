# ğŸ—œï¸ ä»£ç å‹ç¼©å·¥å…·ä½¿ç”¨è¯´æ˜

## ğŸ“‹ å·¥å…·ä»‹ç»

æœ¬å·¥å…·åŒ…å«ä¸¤ä¸ªç‰ˆæœ¬çš„ä»£ç å‹ç¼©ç¨‹åºï¼Œå¯ä»¥å‹ç¼©HTMLã€CSSã€JavaScriptä»£ç ï¼Œå‡å°‘æ–‡ä»¶å¤§å°ï¼ŒåŒæ—¶ä¿æŒåŠŸèƒ½å’Œç»“æ„å®Œæ•´ã€‚

### å·¥å…·æ–‡ä»¶è¯´æ˜

- `compress.py` - åŸºç¡€ç‰ˆå‹ç¼©å·¥å…·
- `compress_advanced.py` - é«˜çº§ç‰ˆå‹ç¼©å·¥å…·ï¼ˆæ”¯æŒé…ç½®æ–‡ä»¶ï¼‰
- `compress_config.json` - å‹ç¼©é…ç½®æ–‡ä»¶
- `compress.bat` - Windowsæ‰¹å¤„ç†å¯åŠ¨è„šæœ¬

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ï¼ˆæ¨èWindowsç”¨æˆ·ï¼‰

1. åŒå‡»è¿è¡Œ `compress.bat`
2. æŒ‰ç…§æç¤ºè¾“å…¥æºç›®å½•å’Œè¾“å‡ºç›®å½•
3. ç¡®è®¤å¼€å§‹å‹ç¼©

### æ–¹æ³•äºŒï¼šä½¿ç”¨Pythonè„šæœ¬

#### åŸºç¡€ç‰ˆä½¿ç”¨æ–¹æ³•

```bash
python compress.py
```

#### é«˜çº§ç‰ˆä½¿ç”¨æ–¹æ³•

```bash
# ä½¿ç”¨é»˜è®¤è®¾ç½®
python compress_advanced.py

# æŒ‡å®šæºç›®å½•å’Œè¾“å‡ºç›®å½•
python compress_advanced.py ./source ./output

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
python compress_advanced.py -c my_config.json

# åˆ›å»ºå¤‡ä»½
python compress_advanced.py -b

# è·³è¿‡ç¡®è®¤ç›´æ¥æ‰§è¡Œ
python compress_advanced.py -y
```

## âš™ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

`compress_config.json` æ–‡ä»¶åŒ…å«ä»¥ä¸‹é…ç½®é€‰é¡¹ï¼š

### å‹ç¼©è®¾ç½® (compression_settings)

```json
{
  "html": {
    "enabled": true,              // æ˜¯å¦å‹ç¼©HTML
    "remove_comments": true,      // åˆ é™¤æ³¨é‡Š
    "remove_whitespace": true,    // åˆ é™¤å¤šä½™ç©ºç™½
    "preserve_tags": ["pre", "textarea", "script", "style"]  // ä¿ç•™è¿™äº›æ ‡ç­¾å†…çš„ç©ºç™½
  },
  "css": {
    "enabled": true,              // æ˜¯å¦å‹ç¼©CSS
    "remove_comments": true,      // åˆ é™¤æ³¨é‡Š
    "remove_whitespace": true,    // åˆ é™¤å¤šä½™ç©ºç™½
    "minify_selectors": true      // å‹ç¼©é€‰æ‹©å™¨
  },
  "js": {
    "enabled": true,              // æ˜¯å¦å‹ç¼©JavaScript
    "remove_comments": true,      // åˆ é™¤æ³¨é‡Š
    "remove_whitespace": true,    // åˆ é™¤å¤šä½™ç©ºç™½
    "preserve_strings": true,     // ä¿ç•™å­—ç¬¦ä¸²
    "preserve_regex": true        // ä¿ç•™æ­£åˆ™è¡¨è¾¾å¼
  }
}
```

### æ–‡ä»¶è®¾ç½® (file_settings)

```json
{
  "skip_patterns": [              // è·³è¿‡çš„æ–‡ä»¶/ç›®å½•æ¨¡å¼
    "node_modules",
    ".git",
    "__pycache__",
    "*.min.js",                   // è·³è¿‡å·²ç»å‹ç¼©çš„æ–‡ä»¶
    "*.min.css"
  ],
  "binary_extensions": [          // äºŒè¿›åˆ¶æ–‡ä»¶æ‰©å±•å
    ".jpg", ".png", ".gif", ".ico",
    ".pdf", ".zip", ".rar"
  ]
}
```

### è¾“å‡ºè®¾ç½® (output_settings)

```json
{
  "default_output_dir": "compressed",  // é»˜è®¤è¾“å‡ºç›®å½•
  "preserve_structure": true,          // ä¿æŒç›®å½•ç»“æ„
  "create_backup": false               // æ˜¯å¦åˆ›å»ºå¤‡ä»½
}
```

## ğŸ“Š å‹ç¼©æ•ˆæœ

### HTML å‹ç¼©
- âœ… åˆ é™¤æ³¨é‡Šï¼ˆä¿ç•™æ¡ä»¶æ³¨é‡Šï¼‰
- âœ… åˆ é™¤å¤šä½™ç©ºç™½ç¬¦
- âœ… ä¿ç•™ `<pre>`, `<textarea>`, `<script>` æ ‡ç­¾å†…çš„æ ¼å¼
- âœ… å‹ç¼©æ ‡ç­¾é—´çš„ç©ºç™½

### CSS å‹ç¼©
- âœ… åˆ é™¤æ³¨é‡Š
- âœ… åˆ é™¤å¤šä½™ç©ºç™½ç¬¦
- âœ… å‹ç¼©é€‰æ‹©å™¨å’Œå±æ€§
- âœ… åˆ é™¤ä¸å¿…è¦çš„åˆ†å·

### JavaScript å‹ç¼©
- âœ… åˆ é™¤å•è¡Œå’Œå¤šè¡Œæ³¨é‡Š
- âœ… ä¿ç•™å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼
- âœ… åˆ é™¤ç©ºè¡Œå’Œå¤šä½™ç©ºç™½
- âœ… ä¿æŒä»£ç åŠŸèƒ½å®Œæ•´

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

### åŠŸèƒ½ä¿æŠ¤
- ğŸ”’ ä¿ç•™æ‰€æœ‰å­—ç¬¦ä¸²å†…å®¹
- ğŸ”’ ä¿ç•™æ­£åˆ™è¡¨è¾¾å¼
- ğŸ”’ ä¿ç•™é‡è¦çš„HTMLæ ‡ç­¾æ ¼å¼
- ğŸ”’ ä¸ä¿®æ”¹ä»£ç é€»è¾‘

### æ–‡ä»¶ä¿æŠ¤
- ğŸ”’ è‡ªåŠ¨è·³è¿‡äºŒè¿›åˆ¶æ–‡ä»¶
- ğŸ”’ å¯é€‰æ‹©åˆ›å»ºå¤‡ä»½
- ğŸ”’ ä¿æŒç›®å½•ç»“æ„
- ğŸ”’ è·³è¿‡å·²å‹ç¼©æ–‡ä»¶

## ğŸ“ˆ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå‹ç¼©å½“å‰é¡¹ç›®

```bash
# å‹ç¼©å½“å‰ç›®å½•åˆ° compressed æ–‡ä»¶å¤¹
python compress_advanced.py

# è¾“å‡ºç¤ºä¾‹ï¼š
# âœ… index.html: 13,234 â†’ 9,876 bytes (-25.4%)
# âœ… css/styles.css: 12,543 â†’ 8,321 bytes (-33.7%)
# âœ… js/main.js: 24,567 â†’ 18,234 bytes (-25.8%)
```

### ç¤ºä¾‹2ï¼šè‡ªå®šä¹‰å‹ç¼©

```bash
# å‹ç¼©æŒ‡å®šç›®å½•ï¼Œåˆ›å»ºå¤‡ä»½ï¼Œè·³è¿‡ç¡®è®¤
python compress_advanced.py ./src ./dist -b -y
```

### ç¤ºä¾‹3ï¼šä½¿ç”¨è‡ªå®šä¹‰é…ç½®

åˆ›å»º `my_config.json`ï¼š
```json
{
  "compression_settings": {
    "html": {"enabled": true, "remove_comments": false},
    "css": {"enabled": true},
    "js": {"enabled": false}
  }
}
```

è¿è¡Œï¼š
```bash
python compress_advanced.py -c my_config.json
```

## ğŸ“‹ å‹ç¼©ç»Ÿè®¡æŠ¥å‘Š

å·¥å…·ä¼šç”Ÿæˆè¯¦ç»†çš„å‹ç¼©æŠ¥å‘Šï¼š

```
ğŸ“Š å‹ç¼©ç»Ÿè®¡æŠ¥å‘Š
================================================================================
  HTML:   3 æ–‡ä»¶ |    45,234 â†’    32,567 bytes | èŠ‚çœ   12,667 bytes ( 28.0%)
   CSS:   1 æ–‡ä»¶ |    12,543 â†’     8,321 bytes | èŠ‚çœ    4,222 bytes ( 33.7%)
    JS:   4 æ–‡ä»¶ |    89,234 â†’    67,890 bytes | èŠ‚çœ   21,344 bytes ( 23.9%)
 OTHER:   8 æ–‡ä»¶ |    23,456 â†’    23,456 bytes | èŠ‚çœ        0 bytes (  0.0%)
--------------------------------------------------------------------------------
  æ€»è®¡:  16 æ–‡ä»¶ |   170,467 â†’   132,234 bytes | èŠ‚çœ   38,233 bytes ( 22.4%)

ğŸ‰ å‹ç¼©å®Œæˆï¼æ€»å…±èŠ‚çœäº† 38,233 bytes (22.4%)
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¤‡ä»½é‡è¦æ–‡ä»¶**ï¼šå‹ç¼©å‰å»ºè®®å¤‡ä»½é‡è¦æ–‡ä»¶
2. **æµ‹è¯•åŠŸèƒ½**ï¼šå‹ç¼©åè¯·æµ‹è¯•ç½‘ç«™åŠŸèƒ½æ˜¯å¦æ­£å¸¸
3. **é¿å…é‡å¤å‹ç¼©**ï¼šä¸è¦å‹ç¼©å·²ç»å‹ç¼©è¿‡çš„æ–‡ä»¶
4. **Pythonç¯å¢ƒ**ï¼šéœ€è¦Python 3.6+ç¯å¢ƒ

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æç¤º"æœªæ‰¾åˆ°Python"**
A: è¯·å®‰è£…Python 3.6+ï¼Œä¸‹è½½åœ°å€ï¼šhttps://www.python.org/downloads/

**Q: å‹ç¼©åç½‘ç«™ä¸èƒ½æ­£å¸¸å·¥ä½œ**
A: æ£€æŸ¥æ˜¯å¦å‹ç¼©äº†é‡è¦çš„ç©ºç™½ç¬¦ï¼Œå¯ä»¥è°ƒæ•´é…ç½®æ–‡ä»¶ç¦ç”¨æŸäº›å‹ç¼©é€‰é¡¹

**Q: æŸäº›æ–‡ä»¶æ²¡æœ‰è¢«å‹ç¼©**
A: æ£€æŸ¥æ–‡ä»¶æ˜¯å¦åœ¨è·³è¿‡åˆ—è¡¨ä¸­ï¼Œæˆ–è€…æ˜¯å¦ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶

**Q: å‹ç¼©æ•ˆæœä¸æ˜æ˜¾**
A: æŸäº›æ–‡ä»¶å¯èƒ½å·²ç»æ˜¯å‹ç¼©æ ¼å¼ï¼Œæˆ–è€…ä»£ç æœ¬èº«å°±å¾ˆç®€æ´

### è·å–å¸®åŠ©

```bash
python compress_advanced.py --help
```

## ğŸ“ æ›´æ–°æ—¥å¿—

- v1.0: åŸºç¡€å‹ç¼©åŠŸèƒ½
- v2.0: æ·»åŠ é…ç½®æ–‡ä»¶æ”¯æŒã€å¤‡ä»½åŠŸèƒ½ã€è¯¦ç»†ç»Ÿè®¡æŠ¥å‘Š

---

ğŸ‰ **ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼å¦‚æœ‰é—®é¢˜è¯·æ£€æŸ¥é…ç½®æ–‡ä»¶æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚**