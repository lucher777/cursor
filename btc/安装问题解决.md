# 虚拟币自动交易系统 - 安装问题解决方案

## 问题描述
在Windows系统上运行 `python install.py` 时遇到以下错误：
```
❌ 升级pip失败: Command 'C:\Program Files\python\python.exe -m pip install --upgrade pip' returned non-zero exit status 1.
错误输出: 'C:\Program' 不是内部或外部命令，也不是可运行的程序或批处理文件。
```

## 问题原因
Python安装路径包含空格（`C:\Program Files\python\python.exe`），导致命令行解析错误。

## 解决方案

### 方案1：使用修复后的安装脚本（推荐）
1. 确保使用最新版本的 `install.py` 文件
2. 运行安装脚本：
   ```bash
   python install.py
   ```

### 方案2：手动安装依赖
如果自动安装仍有问题，可以手动安装：

1. 升级pip：
   ```bash
   python -m pip install --upgrade pip -i https://pypi.tuna.tsinghua.edu.cn/simple/
   ```

2. 安装依赖包：
   ```bash
   python -m pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
   ```

### 方案3：处理TA-Lib安装问题
TA-Lib需要编译，在Windows上可能遇到编译错误。解决方案：

1. **跳过TA-Lib**（推荐）：
   - 程序仍可正常运行，但技术分析功能受限
   - 使用修复后的安装脚本会自动跳过TA-Lib

2. **手动安装TA-Lib**：
   - 访问：https://www.lfd.uci.edu/~gohlke/pythonlibs/#ta-lib
   - 下载对应Python版本的whl文件（例如：`TA_Lib‑0.4.28‑cp38‑cp38‑win_amd64.whl`）
   - 使用以下命令安装：
     ```bash
     pip install TA_Lib‑0.4.28‑cp38‑cp38‑win_amd64.whl
     ```

## 验证安装
运行以下命令验证安装是否成功：
```bash
python -c "import ccxt, pandas, numpy, flask; print('✅ 所有主要依赖包导入成功！')"
```

## 启动程序
安装完成后，可以使用以下方式启动程序：

1. **使用启动脚本**（推荐）：
   ```bash
   start_simple.bat
   ```

2. **直接运行**：
   ```bash
   python main.py --mode web    # Web界面模式
   python main.py --mode cli    # 命令行分析
   python main.py --mode auto   # 自动交易模式
   ```

## 常见问题

### Q: 网络连接超时
A: 安装脚本已配置使用国内镜像源（清华源），如果仍有问题，可以尝试：
```bash
pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/
```

### Q: 权限问题
A: 如果遇到权限错误，可以：
1. 以管理员身份运行命令提示符
2. 或使用用户安装模式：
   ```bash
   pip install --user -r requirements.txt
   ```

### Q: Python版本问题
A: 确保使用Python 3.8或更高版本：
```bash
python --version
```

## 技术支持
如果遇到其他问题，请检查：
1. Python版本是否为3.8+
2. 网络连接是否正常
3. 是否有足够的磁盘空间
4. 防火墙是否阻止了网络连接 